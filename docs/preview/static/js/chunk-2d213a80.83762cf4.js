(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213a80"],{ae39:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-header-wrap",{directives:[{name:"show",rawName:"v-show",value:e.isNormal,expression:"isNormal"}]},[a("v-table-wrap",[a("b-tree",{attrs:{slot:"tree",data:e.treeData,"lock-select":e.lockTreeSelect},on:{"on-select-change":e.handTreeCurrentChange},slot:"tree"}),a("v-filter-bar",[a("v-filter-item",{attrs:{title:"用户名称"}},[a("b-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name","string"===typeof t?t.trim():t)},expression:"listQuery.name"}})],1),a("v-filter-item",{attrs:{title:"地址"}},[a("b-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.listQuery.address,callback:function(t){e.$set(e.listQuery,"address","string"===typeof t?t.trim():t)},expression:"listQuery.address"}})],1),e.filterOpened?[a("v-filter-item",{attrs:{title:"显示禁用"}},[a("b-switch",{attrs:{size:"large","true-value":"Y","false-value":"N"},on:{"on-change":e.handleFilter},model:{value:e.listQuery.delFlag,callback:function(t){e.$set(e.listQuery,"delFlag",t)},expression:"listQuery.delFlag"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1),a("v-filter-item",{attrs:{title:"年龄"}},[a("b-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.listQuery.age,callback:function(t){e.$set(e.listQuery,"age","string"===typeof t?t.trim():t)},expression:"listQuery.age"}})],1)]:e._e(),a("v-filter-item",{attrs:{"show-toggle":!0,"is-opened":e.filterOpened},on:{"on-search":e.handleFilter,"on-reset":e.resetQuery,"on-toggle":function(t){e.filterOpened=!e.filterOpened}}})],2),a("v-table-tool-bar",[a("b-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"small",icon:"ios-add"},on:{click:e.handleCreate}},[e._v("新 增\n        ")])],1),a("b-table",{attrs:{columns:e.columns,data:e.list,loading:e.listLoading},scopedSlots:e._u([{key:"name",fn:function(t){return[a("a",{attrs:{href:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.handleCheck(t.row)}}},[e._v(e._s(t.row.name))])]}},{key:"action",fn:function(t){return[a("b-button",{attrs:{type:"text","text-color":"primary"},on:{click:function(a){return e.handleModify(t.row)}}},[e._v("编辑")]),[a("b-divider",{attrs:{type:"vertical"}}),a("b-popover",{attrs:{confirm:"","append-to-body":"",title:"确实要删除当前用户吗?"},on:{"on-ok":function(a){return e.handleRemove(t.row)}}},[a("b-button",{attrs:{type:"text","text-color":"danger",plain:""}},[e._v("删除")])],1)]]}}])}),a("b-page",{attrs:{total:e.total,"show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)],1),a("page-header-wrap",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{title:e.editTitle,"show-close":""},on:{"on-close":e.handleCancel}},[a("v-edit-wrap",[a("b-form",{ref:"form",attrs:{model:e.user,rules:e.ruleValidate,"label-position":"top"}},[a("b-row",{attrs:{gutter:10}},[a("b-col",{attrs:{span:"12"}},[a("b-form-item",{staticClass:"mr-15",attrs:{label:"姓名",prop:"name"}},[a("b-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),a("b-col",{attrs:{span:"12"}},[a("b-form-item",{attrs:{label:"年龄",prop:"age"}},[a("b-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.user.age,callback:function(t){e.$set(e.user,"age",t)},expression:"user.age"}})],1)],1)],1),a("b-row",{attrs:{gutter:10}},[a("b-col",{attrs:{span:"12"}},[a("b-form-item",{staticClass:"mr-15",attrs:{label:"出生日期",prop:"birthday"}},[a("b-input",{attrs:{placeholder:"请输入出生日期",clearable:""},model:{value:e.user.birthday,callback:function(t){e.$set(e.user,"birthday",t)},expression:"user.birthday"}})],1)],1),a("b-col",{attrs:{span:"12"}},[a("b-form-item",{attrs:{label:"地址",prop:"address"}},[a("b-input",{attrs:{placeholder:"请输入地址",clearable:""},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1)],1)],1),a("b-row",{attrs:{gutter:10}},[a("b-col",{attrs:{span:"12"}},[a("b-form-item",{staticClass:"mr-15",attrs:{label:"姓名",prop:"name"}},[a("b-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),a("b-col",{attrs:{span:"12"}},[a("b-form-item",{attrs:{label:"年龄",prop:"age"}},[a("b-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.user.age,callback:function(t){e.$set(e.user,"age",t)},expression:"user.age"}})],1)],1)],1)],1),a("template",{slot:"footer"},[a("b-button",{on:{click:e.handleCancel}},[e._v("取 消")]),a("b-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.handleSubmit}},[e._v("提 交")])],1)],2)],1),a("page-header-wrap",{directives:[{name:"show",rawName:"v-show",value:e.isCheck,expression:"isCheck"}],attrs:{title:e.editTitle,"show-close":""},on:{"on-close":e.handleCancel}},[a("v-edit-wrap",[a("div",{staticClass:"p20"},[a("v-title-bar",{staticClass:"mb-15",attrs:{label:"v-key-label 显示"}}),a("v-key-label",{attrs:{label:"姓名","label-width":"150px","is-half":"","is-first":""}},[e._v(e._s(e.user.name))]),a("v-key-label",{attrs:{label:"年龄","is-half":""}},[e._v(e._s(e.user.age))]),a("v-key-label",{attrs:{label:"出生日期","label-width":"150px"}},[e._v(e._s(e.user.birthday))]),a("v-key-label",{attrs:{label:"地址","label-width":"150px","is-bottom":""}},[e._v(e._s(e.user.address))])],1),a("div",{staticClass:"p20"},[a("v-title-bar",{staticClass:"mb-15",attrs:{label:"v-simple-label 显示"}}),a("b-row",[a("b-col",{attrs:{span:"12"}},[a("v-simple-label",{attrs:{label:"姓名"}},[e._v(e._s(e.user.name))])],1),a("b-col",{attrs:{span:"12"}},[a("v-simple-label",{attrs:{label:"年龄"}},[e._v(e._s(e.user.age))])],1)],1),a("b-row",[a("b-col",{attrs:{span:"12"}},[a("v-simple-label",{attrs:{label:"出生日期"}},[e._v(e._s(e.user.birthday))])],1),a("b-col",{attrs:{span:"12"}},[a("v-simple-label",{attrs:{label:"地址"}},[e._v(e._s(e.user.address))])],1)],1)],1),a("template",{slot:"footer"},[a("b-button",{on:{click:e.handleCancel}},[e._v("取 消")])],1)],2)],1)],1)},s=[],i={data:function(){return{moduleName:"",currentTreeNode:null,filterOpened:!1,listQuery:{size:10,page:1},total:0,list:[],listLoading:!1,btnLoading:!1,dialogStatus:""}},computed:{editTitle:function(){var e={check:this.moduleName+"详情",modify:"修改"+this.moduleName,create:"新增"+this.moduleName};return e[this.dialogStatus]||"标题"},isNormal:function(){return 0===this.dialogStatus.length},isCheck:function(){return"check"===this.dialogStatus},isEdit:function(){return"create"===this.dialogStatus||"modify"===this.dialogStatus},lockTreeSelect:function(){return"check"===this.dialogStatus||"modify"===this.dialogStatus}},watch:{dialogStatus:function(){window.scrollTo(0,0)}},methods:{treeMapper:function(e,t){var a=this,r=e.id,s=t?t.split(","):[];s.push(r);var i=[];e.children&&e.children.forEach((function(e){i.push(a.treeMapper(e,s.join(",")))}));var l=!!this.currentTreeNode&&this.currentTreeNode.id===r,n=!!this.currentTreeNode&&this.currentTreeNode.parents.includes(r);return{id:e.id,title:e.text,parents:s,selected:l,expand:n,children:i}},setListData:function(e){e?(this.list=e.list,this.total=e.total,this.listLoading=!1):this.listLoading=!0},openEditPage:function(e){this.dialogStatus=e,this.$refs.form&&this.$refs.form.resetFields()},handleCancel:function(){this.dialogStatus=""},submitDone:function(e){this.dialogStatus="",this.btnLoading=!1,e&&this.$message({type:"success",content:"操作成功"})},searchList:function(){console.error("searchList need overwrite (from mixin)")},handleFilter:function(){this.listQuery.page=1,this.searchList()},handleSizeChange:function(e){this.listQuery.page=1,this.listQuery.size=e,this.searchList()},handleCurrentChange:function(e){this.listQuery.page=e,this.searchList()}}};function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={required:!0,message:"必填项",trigger:"blur"},c={name:"TableDemo",mixins:[i],data:function(){var e=function(e,t,a){t.length>0&&a()};return{moduleName:"用户",listQuery:{name:"",delFlag:"N",address:"",age:""},treeData:[],drawerStyles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},footerStyles:{width:"100%",position:"absolute",bottom:0,left:0,borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",background:"#fff"},columns:[{title:"序号",type:"index",width:60,align:"center"},{title:"姓名",slot:"name"},{title:"年龄",key:"age"},{title:"出生日期",key:"birthday"},{title:"地址",key:"address",tooltip:!0},{title:"操作",slot:"action",width:140}],user:null,ruleValidate:{name:[d],birthday:[{required:!0,message:"必填项",trigger:"blur"},{validator:e,trigger:"blur"}],address:[d]}}},created:function(){this.initTree(),this.resetUser()},methods:{handTreeCurrentChange:function(e,t){this.currentTreeNode=t,console.log(this.currentTreeNode)},resetQuery:function(){this.listQuery={page:1,size:10,name:"",delFlag:"N",address:"",age:""}},handleCreate:function(){this.resetUser(),this.openEditPage("create")},handleModify:function(e){this.user=n({},e),this.openEditPage("modify")},handleCheck:function(e){this.user=n({},e),this.openEditPage("check")},handleRemove:function(e){var t=n({},e);console.log(t),this.$notice.success({title:"删除成功"})},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$message({type:"success",content:"操作成功"})}))},resetUser:function(){this.user={id:"",username:"",delFlag:"N",address:"",age:0}},initTree:function(){this.treeData=[{title:"一级 1",expand:!0,children:[{title:"二级 1-1",expand:!0,children:[{title:"三级 1-1-1"},{title:"三级 1-1-2"}]},{title:"二级 1-2",expand:!0,children:[{title:"三级 1-2-1"},{title:"三级 1-2-2"}]},{title:"二级 1-3",expand:!0,children:[{title:"三级 1-3-1"},{title:"三级 1-3-2"}]}]}],this.treeData.length>0&&(this.currentTreeNode=this.treeData[0],this.listQuery.parentId=this.currentTreeNode.id,this.$set(this.treeData[0],"selected",!0),this.$set(this.treeData[0],"expand",!0),this.searchList())},searchList:function(){this.setListData({list:[{name:"王小明",age:18,birthday:"1990-04-22",address:"北京市朝阳区芍药居"},{name:"张小刚",age:25,birthday:"1990-02-11",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1991-06-16",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1992-09-02",address:"深圳市南山区深南大道"},{name:"张小发",age:33,birthday:"1989-12-22",address:"南京市龙眠大道"},{name:"张小刚",age:25,birthday:"1990-02-11",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1991-06-16",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1992-09-02",address:"深圳市南山区深南大道"}],total:15})}}},u=c,h=a("2877"),p=Object(h["a"])(u,r,s,!1,null,null,null);t["default"]=p.exports}}]);