(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9ab99b6"],{"344a":function(e,t,r){"use strict";function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t["a"]={data:function(){return{moduleName:"",currentTreeNode:null,filterOpened:!1,listQuery:{size:10,page:1},total:0,list:[],listLoading:!1,btnLoading:!1,dialogStatus:""}},computed:{editTitle:function(){var e={check:this.moduleName+"详情",modify:"修改"+this.moduleName,create:"新增"+this.moduleName};return e[this.dialogStatus]||"标题"},isNormal:function(){return 0===this.dialogStatus.length},isCheck:function(){return"check"===this.dialogStatus},isEdit:function(){return"create"===this.dialogStatus||"modify"===this.dialogStatus},lockTreeSelect:function(){return"check"===this.dialogStatus||"modify"===this.dialogStatus},colorPrimary:function(){return{color:"#1890ff"}},colorSuccess:function(){return{color:"#52c41a"}},colorWarning:function(){return{color:"#fa8c16"}},colorDanger:function(){return{color:"#f5222d"}},colorInfo:function(){return{color:"#35495e"}}},watch:{dialogStatus:function(){window.scrollTo(0,0)}},methods:{treeMapper:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",n=e.id,l=t?t.split(","):[];l.push(n);var o=[];e.children&&e.children.forEach((function(e){o.push(r.treeMapper(e,l.join(","),a,i))}));var c=!!this.currentTreeNode&&this.currentTreeNode.id===n,u=!!this.currentTreeNode&&this.currentTreeNode.parents.includes(n),d={};return a.forEach((function(t){e[t]&&(d[t]=e[t])})),s({id:e.id,title:e[i]},d,{parents:l,selected:c,expand:u,children:o})},formatOptions:function(e){var t=[];return Object.keys(e).forEach((function(r){t.push({value:r,label:e[r]})})),t},setListData:function(e){e?(this.list=e.list,this.total=e.total,this.listLoading=!1):this.listLoading=!0},openEditPage:function(e){this.dialogStatus=e,this.$refs.form&&this.$refs.form.resetFields()},handleCancel:function(){this.dialogStatus=""},submitDone:function(e){this.dialogStatus="",this.btnLoading=!1,e&&this.$message({type:"success",content:"操作成功"})},searchList:function(){console.error("searchList need overwrite (from mixin)")},handleFilter:function(){this.listQuery.page=1,this.searchList()},handleSizeChange:function(e){this.listQuery.page=1,this.listQuery.size=e,this.searchList()},handleCurrentChange:function(e){this.listQuery.page=e,this.searchList()}}}},ae39:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("page-header-wrap",{directives:[{name:"show",rawName:"v-show",value:e.isNormal,expression:"isNormal"}]},[r("v-table-wrap",[r("b-tree",{attrs:{slot:"tree",data:e.treeData,"lock-select":e.lockTreeSelect},on:{"on-select-change":e.handTreeCurrentChange},slot:"tree"}),r("v-filter-bar",[r("v-filter-item",{attrs:{title:"用户名称",span:8}},[r("b-input",{attrs:{placeholder:"请输入部门名称",clearable:""},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name","string"===typeof t?t.trim():t)},expression:"listQuery.name"}})],1),r("v-filter-item",{attrs:{title:"地址",span:8}},[r("b-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.listQuery.address,callback:function(t){e.$set(e.listQuery,"address","string"===typeof t?t.trim():t)},expression:"listQuery.address"}})],1),r("v-filter-item",{attrs:{"show-toggle":!0,"is-opened":e.filterOpened},on:{"on-search":e.handleFilter,"on-reset":e.resetQuery,"on-toggle":function(t){e.filterOpened=!e.filterOpened}}}),e.filterOpened?[r("v-filter-item",{attrs:{title:"显示禁用",span:8}},[r("b-switch",{attrs:{size:"large","true-value":"Y","false-value":"N"},on:{"on-change":e.handleFilter},model:{value:e.listQuery.delFlag,callback:function(t){e.$set(e.listQuery,"delFlag",t)},expression:"listQuery.delFlag"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1),r("v-filter-item",{attrs:{title:"年龄",span:8}},[r("b-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.listQuery.age,callback:function(t){e.$set(e.listQuery,"age","string"===typeof t?t.trim():t)},expression:"listQuery.age"}})],1)]:e._e()],2),r("v-table-tool-bar",[r("b-button",{attrs:{type:"primary",icon:"ios-add-circle-outline"},on:{click:e.handleCreate}},[e._v("新 增\n        ")])],1),r("b-table",{attrs:{columns:e.columns,data:e.list,loading:e.listLoading},scopedSlots:e._u([{key:"name",fn:function(t){return[r("a",{attrs:{href:""},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.handleCheck(t.row)}}},[e._v(e._s(t.row.name))])]}},{key:"action",fn:function(t){return[r("b-button",{attrs:{type:"text"},on:{click:function(r){return e.handleModify(t.row)}}},[e._v("编辑")]),[r("b-divider",{attrs:{type:"vertical"}}),r("b-button",{attrs:{type:"text","text-color":"danger"},on:{click:function(r){return e.handleRemove(t.row)}}},[e._v("删除")])]]}}])}),r("b-page",{attrs:{total:e.total,"show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)],1),r("page-header-wrap",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{title:e.editTitle,"show-close":""},on:{"on-close":e.handleCancel}},[r("v-edit-wrap",{attrs:{transparent:""}},[r("b-collapse-wrap",{attrs:{title:"基础信息",collapse:""}},[r("b-form",{ref:"form",attrs:{model:e.user,rules:e.ruleValidate,"label-position":"top"}},[r("b-row",{attrs:{gutter:10}},[r("b-col",{attrs:{span:"12"}},[r("b-form-item",{staticClass:"mr-15",attrs:{label:"姓名",prop:"name"}},[r("b-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),r("b-col",{attrs:{span:"12"}},[r("b-form-item",{attrs:{label:"年龄",prop:"age"}},[r("b-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.user.age,callback:function(t){e.$set(e.user,"age",t)},expression:"user.age"}})],1)],1)],1),r("b-row",{attrs:{gutter:10}},[r("b-col",{attrs:{span:"12"}},[r("b-form-item",{staticClass:"mr-15",attrs:{label:"出生日期",prop:"birthday"}},[r("b-input",{attrs:{placeholder:"请输入出生日期",clearable:""},model:{value:e.user.birthday,callback:function(t){e.$set(e.user,"birthday",t)},expression:"user.birthday"}})],1)],1),r("b-col",{attrs:{span:"12"}},[r("b-form-item",{attrs:{label:"地址",prop:"address"}},[r("b-input",{attrs:{placeholder:"请输入地址",clearable:""},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1)],1)],1)],1)],1),r("b-collapse-wrap",{attrs:{title:"信息项配置"}},[r("div",{attrs:{slot:"right"},slot:"right"},[r("b-button",{attrs:{type:"primary",dashed:"",size:"small"}},[e._v("Primary")]),r("b-button",{attrs:{type:"success",dashed:"",size:"small"}},[e._v("Success")]),r("b-button",{attrs:{type:"warning",dashed:"",size:"small"}},[e._v("Warning")]),r("b-button",{attrs:{type:"danger",dashed:"",size:"small"}},[e._v("Danger")])],1),r("b-table",{attrs:{columns:e.columns,data:e.list,size:"small"},scopedSlots:e._u([{key:"name",fn:function(t){return[r("a",{attrs:{href:""},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.handleCheck(t.row)}}},[e._v(e._s(t.row.name))])]}},{key:"action",fn:function(t){return[r("b-button",{attrs:{type:"text"}},[e._v("编辑")])]}}])})],1),r("template",{slot:"footer"},[r("b-button",{on:{click:e.handleCancel}},[e._v("取 消")]),r("b-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.handleSubmit}},[e._v("提 交")])],1)],2)],1),r("page-header-wrap",{directives:[{name:"show",rawName:"v-show",value:e.isCheck,expression:"isCheck"}],attrs:{title:e.editTitle,"show-close":""},on:{"on-close":e.handleCancel}},[r("v-edit-wrap",[r("div",{staticClass:"p20"},[r("v-title-bar",{staticClass:"mb-15",attrs:{label:"v-key-label 显示"}}),r("v-key-label",{attrs:{label:"姓名","label-width":"150px","is-half":"","is-first":""}},[e._v(e._s(e.user.name))]),r("v-key-label",{attrs:{label:"年龄","is-half":""}},[e._v(e._s(e.user.age))]),r("v-key-label",{attrs:{label:"出生日期","label-width":"150px"}},[e._v(e._s(e.user.birthday))]),r("v-key-label",{attrs:{label:"地址","label-width":"150px","is-bottom":""}},[e._v(e._s(e.user.address))])],1),r("div",{staticClass:"p20"},[r("v-title-bar",{staticClass:"mb-15",attrs:{label:"v-simple-label 显示"}}),r("b-row",[r("b-col",{attrs:{span:"12"}},[r("v-simple-label",{attrs:{label:"姓名"}},[e._v(e._s(e.user.name))])],1),r("b-col",{attrs:{span:"12"}},[r("v-simple-label",{attrs:{label:"年龄"}},[e._v(e._s(e.user.age))])],1)],1),r("b-row",[r("b-col",{attrs:{span:"12"}},[r("v-simple-label",{attrs:{label:"出生日期"}},[e._v(e._s(e.user.birthday))])],1),r("b-col",{attrs:{span:"12"}},[r("v-simple-label",{attrs:{label:"地址"}},[e._v(e._s(e.user.address))])],1)],1)],1),r("template",{slot:"footer"},[r("b-button",{on:{click:e.handleCancel}},[e._v("取 消")])],1)],2)],1)],1)},s=[],i=r("344a");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={required:!0,message:"必填项",trigger:"blur"},u={name:"TableDemo",mixins:[i["a"]],data:function(){var e=function(e,t,r){t.length>0&&r()};return{moduleName:"用户",listQuery:{name:"",delFlag:"N",address:"",age:""},treeData:[],drawerStyles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},footerStyles:{width:"100%",position:"absolute",bottom:0,left:0,borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",background:"#fff"},columns:[{title:"序号",type:"index",width:60,align:"center"},{title:"姓名",slot:"name"},{title:"年龄",key:"age"},{title:"出生日期",key:"birthday"},{title:"地址",key:"address",tooltip:!0},{title:"操作",slot:"action",width:140}],user:null,ruleValidate:{name:[c],birthday:[{required:!0,message:"必填项",trigger:"blur"},{validator:e,trigger:"blur"}],address:[c]}}},created:function(){this.initTree(),this.resetUser()},methods:{handTreeCurrentChange:function(e,t){this.currentTreeNode=t,console.log(this.currentTreeNode)},resetQuery:function(){this.listQuery={page:1,size:10,name:"",delFlag:"N",address:"",age:""}},handleCreate:function(){this.resetUser(),this.openEditPage("create")},handleModify:function(e){this.user=l({},e),this.openEditPage("modify")},handleCheck:function(e){this.user=l({},e),this.openEditPage("check")},handleRemove:function(e){var t=l({},e);console.log(t),this.$notice.success({title:"删除成功"})},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$message({type:"success",content:"操作成功"})}))},resetUser:function(){this.user={id:"",username:"",delFlag:"N",address:"",age:0}},initTree:function(){this.treeData=[{title:"一级 1",expand:!0,children:[{title:"二级 1-1",expand:!0,children:[{title:"三级 1-1-1"},{title:"三级 1-1-2"}]},{title:"二级 1-2",expand:!0,children:[{title:"三级 1-2-1"},{title:"三级 1-2-2"}]},{title:"二级 1-3",expand:!0,children:[{title:"三级 1-3-1"},{title:"三级 1-3-2"}]}]}],this.treeData.length>0&&(this.currentTreeNode=this.treeData[0],this.listQuery.parentId=this.currentTreeNode.id,this.$set(this.treeData[0],"selected",!0),this.$set(this.treeData[0],"expand",!0),this.searchList())},searchList:function(){this.setListData({list:[{name:"王小明",age:18,birthday:"1990-04-22",address:"北京市朝阳区芍药居"},{name:"张小刚",age:25,birthday:"1990-02-11",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1991-06-16",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1992-09-02",address:"深圳市南山区深南大道"},{name:"张小发",age:33,birthday:"1989-12-22",address:"南京市龙眠大道"},{name:"张小刚",age:25,birthday:"1990-02-11",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1991-06-16",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1992-09-02",address:"深圳市南山区深南大道"}],total:15})}}},d=u,h=r("2877"),p=Object(h["a"])(d,a,s,!1,null,null,null);t["default"]=p.exports}}]);